{"version":3,"sources":["webpack:///webpack/bootstrap 1fac5076e37dc98457f8","webpack:///./src/app.js","webpack:///./src/trainings lazy ^\\.\\/.*$"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kDAA0C,WAAW,EAAE;AACvD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,kDAA0C,oBAAoB,WAAW;;AAEzE;AACA;;;;;;;;AC/IA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AAGD;AACA;AACA,YAAY;AACZ;AACA,yBAAyB;AACzB;AACA;AACA,GAAG,6BAA6B;AAChC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,eAAe,SAAS,8EAA6B;AAC9D;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,yCAAyC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,GAAG,KAAK;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,sBAAsB,uBAAO,CAAC,EAAY,EAAE,SAAS,CAAC,CAAC;AACvD;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,MAAM;AACxB;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA,kBAAkB,UAAU;AAC5B;AACA;AACA,kBAAkB,YAAY;AAC9B;AACA;AACA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW,SAAS,8EAA0B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa,SAAS,8EAA0B;AAC/D;AACA;AACA;AACA;;;;;;;;;AC3LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC","file":"app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t7: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData === 0) {\n \t\t\treturn new Promise(function(resolve) { resolve(); });\n \t\t}\n\n \t\t// a Promise means \"currently loading\".\n \t\tif(installedChunkData) {\n \t\t\treturn installedChunkData[2];\n \t\t}\n\n \t\t// setup Promise in chunk cache\n \t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t});\n \t\tinstalledChunkData[2] = promise;\n\n \t\t// start chunk loading\n \t\tvar head = document.getElementsByTagName('head')[0];\n \t\tvar script = document.createElement('script');\n \t\tscript.type = \"text/javascript\";\n \t\tscript.charset = 'utf-8';\n \t\tscript.async = true;\n \t\tscript.timeout = 120000;\n\n \t\tif (__webpack_require__.nc) {\n \t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t}\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".js\";\n \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n \t\tscript.onerror = script.onload = onScriptComplete;\n \t\tfunction onScriptComplete() {\n \t\t\t// avoid mem leaks in IE.\n \t\t\tscript.onerror = script.onload = null;\n \t\t\tclearTimeout(timeout);\n \t\t\tvar chunk = installedChunks[chunkId];\n \t\t\tif(chunk !== 0) {\n \t\t\t\tif(chunk) {\n \t\t\t\t\tchunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n \t\t\t\t}\n \t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t}\n \t\t};\n \t\thead.appendChild(script);\n\n \t\treturn promise;\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1fac5076e37dc98457f8","const isMeasuring = (location.hash.substr(1, 1) === '!'),\r\n      isCircuit   = (location.hash.substr(-1, 1) === '$'),\r\n      uid         = location.hash.replace(/[#!$]/g, ''),\r\n      params      = new URLSearchParams(location.search)\r\n;\r\n\r\nwindow.App = {\r\n  isStarted: false,\r\n  params: params,\r\n  isAndroid: (typeof Android !== \"undefined\")\r\n};\r\n\r\nwindow.addEventListener('load', async () => {\r\n  const manager= new TrainingContentManager(uid);\r\n  if(isMeasuring)\r\n    await measure(manager);\r\n  else\r\n    await practice(manager);\r\n});\r\n\r\n\r\n/** 練習；計測しない */\r\nasync function practice(manager){\r\n  /* トレーニング; エクササイズ/チェック */\r\n  let result;\r\n  if(manager.isExercise){     /* エクササイズ*/\r\n    const exercise= await manager.getExercise();\r\n    result = await exercise.start();\r\n  }else if(manager.isChecktest){  /* チェックテスト */\r\n    const checktest = await manager.getChecktest();\r\n    result = await checktest.start()\r\n  }else if(manager.isMeasureTimer){\r\n    const measureTimer = await manager.getMeasureTimer();\r\n    await measureTimer.start();\r\n  }\r\n  /* 終了処理 */\r\n  if(window.App.isAndroid)\r\n    Android.finishTraining();\r\n}\r\n/** 本番 */\r\nasync function measure(manager){\r\n  const {CountdownGuide} = await import('./misc/countdown.js');\r\n  /* ベースライン */\r\n  if(window.App.isAndroid)\r\n    Android.startBaseline();\r\n  if(!manager.isInterlude)\r\n    await new CountdownGuide().start(15);\r\n\r\n  if(window.App.isAndroid)\r\n    await Android.startContent();\r\n\r\n\r\n  /* トレーニング; エクササイズ/チェック */\r\n  let result={};\r\n  if(manager.isExercise){\r\n    // /* ユーザ設定 */\r\n    // let _userPreference = (window.App.isAndroid)\r\n    //   ? JSON.parse(Android.getUserPreference())\r\n    //   : {};\r\n    let _userPreference = {};\r\n    const exercise= await manager.getExercise(_userPreference);\r\n    let {trainingResult, userPreference, scoreLog} = await exercise.start();\r\n    result = trainingResult;\r\n    // /* 設定保存 */\r\n    // if(window.App.isAndroid)\r\n    //   Android.saveUserPreference(JSON.stringify(userPreference));\r\n    // /* スコアログを反映 */\r\n    // if(window.App.isAndroid)\r\n    //   Android.addScoreLog(JSON.stringify(scoreLog));\r\n\r\n  }else if(manager.isMeasureTimer){\r\n    const measureTimer = await manager.getMeasureTimer();\r\n    await measureTimer.start();\r\n  }else{    /* インタルード */\r\n    /* ユーザ設定 */\r\n    let _pulse = (window.App.isAndroid)\r\n      ? JSON.parse(Android.getUserPulse())\r\n      : {};\r\n    const interlude = await manager.getInterlude(_pulse);\r\n    await interlude.start();\r\n  }\r\n  if(!manager.isInterlude){\r\n    /* 安静待機 */\r\n    if(window.App.isAndroid)\r\n      Android.startCooldown();\r\n    await new CountdownGuide().start(10);\r\n    if(window.App.isAndroid)\r\n      Android.addResult(JSON.stringify(result));\r\n  }\r\n  /* 終了処理 */\r\n  if(window.App.isAndroid)\r\n    Android.finishTraining();\r\n}\r\n/**\r\n * トレーニング管理\r\n */\r\nclass TrainingContentManager{\r\n  constructor(uid){\r\n    this.uid = uid;\r\n  }\r\n  get isExercise(){\r\n    return this.uid.startsWith('NFB');\r\n  }\r\n  get isChecktest(){\r\n    return this.uid.startsWith('NCK');\r\n  }\r\n  get isMeasureTimer(){\r\n    return this.uid.startsWith('MES');\r\n  }\r\n  get isInterlude(){\r\n    return !this.uid.startsWith('NFB') && !this.uid.startsWith('NCK') && !this.uid.startsWith('MES');\r\n  }\r\n  /**\r\n   * エクササイズ\r\n   * @param {object} userPreference - ユーザ設定\r\n   */\r\n  async getExercise(userPreference){\r\n    let training = {};\r\n    try{\r\n      const m = await import(`./trainings/${this.uid}`);\r\n      return new m[this.uid](userPreference);\r\n    }catch(e){\r\n      return null;\r\n    }\r\n  }\r\n  /** セットナンバー */\r\n  getSetNum(){\r\n    switch(this.uid){\r\n      case 'NCK001':\r\n        return 3;\r\n      case 'NCK002':\r\n        return 3;\r\n      case 'NCK003':\r\n        return 1;\r\n      case 'NCK004':\r\n        return 3;\r\n      case 'NCK005':\r\n        return 2;\r\n      case 'NCK006':\r\n        return 2;\r\n      default:\r\n        return 1;\r\n    }\r\n  }\r\n  // /** チェックテスト */\r\n  // async getChecktest(){\r\n  //   switch(this.uid){\r\n  //     case 'NCK001':\r\n  //       const {Speed} = await import('./checktests/NCK001.js');\r\n  //       return new Speed();\r\n  //     case 'NCK002':\r\n  //       const {WorkingMemory} = await import('./checktests/NCK002.js');\r\n  //       return new WorkingMemory();\r\n  //     case 'NCK003':\r\n  //       const {EpisodeMemory} = await import('./checktests/NCK003.js');\r\n  //       return new EpisodeMemory();\r\n  //     case 'NCK004':\r\n  //       const {Attention} = await import('./checktests/NCK004.js');\r\n  //       return new Attention();\r\n  //     case 'NCK005':\r\n  //       const {Suppression} = await import('./checktests/NCK005.js');\r\n  //       return new Suppression();\r\n  //     case 'NCK006':\r\n  //       const {Persistence} = await import('./checktests/NCK006.js');\r\n  //       return new Persistence();\r\n  //     default:\r\n  //       return null;\r\n  //   }\r\n  // }\r\n  /**　計測間に挟むトレーニング　*/\r\n  async getInterlude(preference){\r\n    switch (this.uid) {\r\n      case \"NIL001\":\r\n        /* 心拍BF */\r\n        const {PulseGuide} = await import('./misc/NIL001.js');\r\n        return new PulseGuide(preference);\r\n    }\r\n  }\r\n  /** 1分間の計測 */\r\n  async getMeasureTimer(){\r\n    switch (this.uid) {\r\n      case \"MES001\":\r\n        /* 計測タイマー */\r\n        const {MeasureTimer} = await import('./misc/MES001.js');\r\n        return new MeasureTimer();\r\n    }\r\n  }\r\n}\r\n\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app.js\n// module id = 4\n// module chunks = 7","var map = {\n\t\"./NFB001\": [\n\t\t1,\n\t\t0\n\t],\n\t\"./NFB001.js\": [\n\t\t1,\n\t\t0\n\t],\n\t\"./NFB004\": [\n\t\t2,\n\t\t1\n\t],\n\t\"./NFB004.js\": [\n\t\t2,\n\t\t1\n\t],\n\t\"./NFB011\": [\n\t\t3,\n\t\t2\n\t],\n\t\"./NFB011.js\": [\n\t\t3,\n\t\t2\n\t],\n\t\"./training\": [\n\t\t0,\n\t\t3\n\t],\n\t\"./training.js\": [\n\t\t0,\n\t\t3\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 5;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/trainings lazy ^\\.\\/.*$\n// module id = 5\n// module chunks = 7"],"sourceRoot":""}